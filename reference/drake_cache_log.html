<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get a table that represents the state of the cache. — drake_cache_log • drake</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>



<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Get a table that represents the state of the cache. — drake_cache_log" />

<meta property="og:description" content="This functionality is like
make(..., cache_log_file = TRUE),
but separated and more customizable. Hopefully, this functionality
is a step toward better data versioning tools." />

<meta property="og:image" content="https://ropensci.github.io/drake/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="../hexlogo.png" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>drake <small>v7.5.2.9000</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="https://ropenscilabs.github.io/drake-manual">Full manual</a>
</li>
<li>
  <a href="https://ropenscilabs.github.io/drake-manual/faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/ropensci/drake">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get a table that represents the state of the cache.</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/drake/blob/master/R/cache.R'><code>R/cache.R</code></a></small>
    <div class="hidden name"><code>drake_cache_log.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This functionality is like
<code><a href='make.html'>make(..., cache_log_file = TRUE)</a></code>,
but separated and more customizable. Hopefully, this functionality
is a step toward better data versioning tools.</p>
    
    </div>

    <pre class="usage"><span class='fu'>drake_cache_log</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>search</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cache</span> <span class='kw'>=</span> <span class='kw pkg'>drake</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/drake/man/drake_cache.html'>drake_cache</a></span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='no'>path</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='no'>verbose</span>),
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>jobs</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>targets_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>Path to a <code>drake</code> cache
(usually a hidden <code>.drake/</code> folder) or <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>search</th>
      <td><p>Deprecated.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>drake cache. See <code><a href='new_cache.html'>new_cache()</a></code>.
If supplied, <code>path</code> is ignored.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Integer, control printing to the console/terminal.</p><ul>
<li><p><code>0</code>: print nothing.</p></li>
<li><p><code>1</code>: print targets, retries, and failures.</p></li>
<li><p><code>2</code>: also show a spinner when preprocessing tasks are underway.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>jobs</th>
      <td><p>Number of jobs/workers for parallel processing.</p></td>
    </tr>
    <tr>
      <th>targets_only</th>
      <td><p>Logical, whether to output information
only on the targets in your workflow plan data frame.
If <code>targets_only</code> is <code>FALSE</code>, the output will
include the hashes of both targets and imports.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Data frame of the hash keys of the targets and imports
in the cache</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A hash is a fingerprint of an object's value.
Together, the hash keys of all your targets and imports
represent the state of your project.
Use <code>drake_cache_log()</code> to generate a data frame
with the hash keys of all the targets and imports
stored in your cache.
This function is particularly useful if you are
storing your drake project in a version control repository.
The cache has a lot of tiny files, so you should not put it
under version control. Instead, save the output
of <code>drake_cache_log()</code> as a text file after each <code><a href='make.html'>make()</a></code>,
and put the text file under version control.
That way, you have a changelog of your project's results.
See the examples below for details.
Depending on your project's
history, the targets may be different than the ones
in your workflow plan data frame.
Also, the keys depend on the hash algorithm
of your cache. To define your own hash algorithm,
you can create your own <code>storr</code> cache and give it a hash algorithm
(e.g. <code>storr_rds(hash_algorithm = "murmur32")</code>)</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='cached.html'>cached()</a></code>, <code><a href='drake_cache.html'>drake_cache()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='isolate_example.html'>isolate_example</a></span>(<span class='st'>"Quarantine side effects."</span>, {
<span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>"knitr"</span>))) {
<span class='co'># Load drake's canonical example.</span>
<span class='fu'><a href='load_mtcars_example.html'>load_mtcars_example</a></span>() <span class='co'># Get the code with drake_example()</span>
<span class='co'># Run the project, build all the targets.</span>
<span class='fu'><a href='make.html'>make</a></span>(<span class='no'>my_plan</span>)
<span class='co'># Get a data frame of all the hash keys.</span>
<span class='co'># If you want a changelog, be sure to do this after every make().</span>
<span class='no'>cache_log</span> <span class='kw'>&lt;-</span> <span class='fu'>drake_cache_log</span>()
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>cache_log</span>)
<span class='co'># Suppress partial arg match warnings.</span>
<span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span>(
  <span class='co'># Save the hash log as a flat text file.</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.table</a></span>(
    <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>cache_log</span>,
    <span class='kw'>file</span> <span class='kw'>=</span> <span class='st'>"drake_cache.log"</span>,
    <span class='kw'>quote</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
    <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
  )
)
<span class='co'># At this point, put drake_cache.log under version control</span>
<span class='co'># (e.g. with 'git add drake_cache.log') alongside your code.</span>
<span class='co'># Now, every time you run your project, your commit history</span>
<span class='co'># of hash_lot.txt is a changelog of the project's results.</span>
<span class='co'># It shows which targets and imports changed on every commit.</span>
<span class='co'># It is extremely difficult to track your results this way</span>
<span class='co'># by putting the raw '.drake/' cache itself under version control.</span>
}
})
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div style="margin-top:-9px">
  <p>drake is a part of <img src='https://github.com/ropensci/logos/raw/master/icon_lettering_color.png' height=40 alt = 'rOpenSci'>. Learn more at <a href="https://ropensci.org">ropensci.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by William Michael Landau.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a> & <a href="https://docs.ropensci.org/rotemplate/">rotemplate</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


